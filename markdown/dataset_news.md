# Описание набора данных

[Ссылка на оригинальный датасет](https://huggingface.co/datasets/nbettencourt/SC454k)

[Ссылка на Google Drive](https://drive.google.com/drive/folders/1Pg1VWbWyh10jJeiiwva844C1VqLG9Ndq?usp=drive_link)

По ссылке на Google Drive будут находиться:
- скачанный из первоисточника оригинальный датасет в формате Parquet, разбитый на части для удобства работы
- файлы фиксированной части оригинального датасета с добавленными признаками

Исходный датасет SC454k состоит из примерно **454 тысяч новостных статей и пресс-релизов**, полученных с сайта nasdaq.com, и связанных с акциями компаний малой капитализации. Датасет дополнен рыночными ценами из набора данных Trade and Quote Millisecond (TAQ/MSEC) от Wharton Research Data Services. Автор датасета вдохновлялся [проектом FNSPID](https://arxiv.org/abs/2402.06698) и [соответствующим датасетом](https://huggingface.co/datasets/Zihan1004/FNSPID).

## Схема данных
| Поле                      | Описание                                                                                      |
|---------------------------|-----------------------------------------------------------------------------------------------|
| Symbol                    | тикер соответствующей акции (например, AAPL)                                                  |
| Security                  | полное наименование акции, связанной с тикером (например, Apple Inc.)                         |
| Sector                    | экономический сектор, к которому относится акция, полученный с nasdaq.com (например, Технологии)  |
| Industry                  | более конкретный бизнес-сегмент в рамках сектора, полученный с nasdaq.com (например, Производство компьютеров)  |
| URL                       | URL, связанный с 'Article'  |
| Date                      | дата публикации 'Article' в формате MMM DD, YYYY HH:MM AM/PM ET (например, Aug 06, 2024 12:11 PM ET)  |
| RelatedStocksList        | акции/темы, связанные или упоминающиеся в 'Article' (исключая соответствующую акцию, упомянутую в колонке 'Symbol'). Разделены символами '\|' (например, Markets\|INTC\|UNH\|DOW)  |
| Article                  | текст новостной статьи или пресс-релиза. Любой специальный формат текста (жирный текст, таблицы и т.д.) оформлен в псевдо-LaTeX формате. Например, жирный текст окружен `**`, а таблицы обернуты в `\begin{table}{...}\end{table}` |
| Title                    | заголовок новостной статьи или пресс-релиза  |
| articleType              | значение, обозначающее тип 'Article': 'News' либо 'Press Release'  |
| Publication              | источник, ответственный за публикацию 'Article' (например, The Motley Fool)  |
| Author                   | лицо или организация, ответственные за публикацию 'Article'. Может быть указано как организация, подобная 'Publication' (например, Publication: Zacks, Author: Zacks Equity Research) или как отдельное лицо (например, Publication: Validea, Author: John Reese)  |
| weighted_avg_x_hours     | цена акции 'x' часов после 'Date' (рассчитано на основе взвешенного среднего из 8 ближайших цен акций)  |


## Получение данных

Текстовые данные собирались в два этапа: сначала скрейпинг ссылок, а затем контента по этим ссылкам. Использовались: Puppeteer (headless-браузер Chrome на JavaScript) для скрейпинга, PySpark и NumPy для очистки. Цены получались из набора Trade and Quote Millisecond dataset (TAQ/MSEC) от Wharton Research Data Service, где представлены данные торгов и котировок всех операций в Национальной рыночной системе США.

Процесс сбора и сопоставления данных с ценами в итоге занял 1400 часов вычислений на 41 инстансе Amazon m7g.medium. 

Временные и вычислительные затраты на подготовку подобных датасетов стали решающим аргументом в пользу использования готового варианта.